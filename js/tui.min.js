const MAIN_CONTAINER=document.getElementById("main-container"),SECTION_CONTAINER=document.getElementById("section-container"),LEFT_SECTION=document.getElementById("left-section"),RIGHT_SECTION=document.getElementById("right-section"),HOME_SECTION=document.getElementById("home"),SKILLS_SECTION=document.getElementById("skills"),EXPERIENCE_SECTION=document.getElementById("experience"),PROJECTS_SECTION=document.getElementById("projects"),FOOTER_SECTION=document.getElementById("footer"),MAIN_CONTENT_SECTION=document.getElementById("main-content")?.getElementsByClassName("container-content")[0],COLORS=["text-blue","text-orange","text-pink"],left_sections=[{name:"home",section:HOME_SECTION,items:[]},{name:"experience",section:EXPERIENCE_SECTION,items:[...EXPERIENCE_SECTION.firstElementChild.children[2].children]},{name:"projects",section:PROJECTS_SECTION,items:[...PROJECTS_SECTION.firstElementChild.children[2].children]},{name:"skills",section:SKILLS_SECTION,items:[...SKILLS_SECTION.firstElementChild.children[2].children]}],currentPosition={sectionIndex:0,sectionItemIndex:0},previousPosition={sectionIndex:0,sectionItemIndex:0};function clamp(e,t,n){return Math.min(Math.max(e,t),n)}function isMobile(){return window.innerWidth<=768}function setupBibleReloadButton(e){null!=e&&(e.addEventListener("click",(async()=>{await displayRandomBibleVerse()})),e.addEventListener("mouseleave",(()=>{e.style.backgroundColor="var(--clr-primary-txt)"})),e.addEventListener("mouseenter",(()=>{e.style.backgroundColor=["var(--clr-blue)","var(--clr-orange)","var(--clr-pink)"][Math.floor(3*Math.random())]})))}async function fetchRandomBibleVerse(){const e=await fetch("https://labs.bible.org/api/?passage=random&type=json&callback=amen"),t=await e.text(),n=t.indexOf("{"),s=t.lastIndexOf("}"),o=t.substring(n,s+1);return JSON.parse(o)}async function displayRandomBibleVerse(e=null){try{const t=document.getElementsByClassName("bible-verse")?.[0]||document.createElement("div");t.classList.contains("bible-verse")||t.classList.add("bible-verse");const n=document.createElement("div");n.classList.add("reference");const s=document.createElement("div");s.innerHTML="Fetching...";const o=document.createElement("button");setupBibleReloadButton(o),t.innerHTML="",t.appendChild(o),t.appendChild(s),t.appendChild(n),null==e||e.appendChild(t);const{text:c,bookname:i,chapter:a,verse:r}=await fetchRandomBibleVerse();n.innerText=`${i} ${a}:${r}`,s.innerHTML=c.replaceAll("Jesus",`<span class="${getRandomTextColorClass()}">Jesus</span>`).replaceAll("Christ",`<span class="${getRandomTextColorClass()}">Christ</span>`).replaceAll("Savior",`<span class="${getRandomTextColorClass()}">Savior</span>`).replaceAll("Lord",`<span class="${getRandomTextColorClass()}">Lord</span>`).replaceAll("God",`<span class="${getRandomTextColorClass()}">God</span>`).replaceAll("Faith",`<span class="${getRandomTextColorClass()}">Faith</span>`)}catch(e){console.error(e)}}function getRandomTextColorClass(){return COLORS[Math.floor(Math.random()*COLORS.length)]}function colorizeString(e){return e.replaceAll("{{",(()=>`<span class="${getRandomTextColorClass()}">`)).replaceAll("}}","</span>")}function colorizeCode(){const e=document.getElementsByTagName("code")[0];if(null==e)return;const t=e.innerText,n=e.classList[0],s={js:javascriptKeywords,ts:typescriptKeywords,sql:sqlKeywords,mjs:nodeKeywords,html:htmlKeywords,css:cssKeywords,go:goKeywords,c:cKeywords,graphql:graphqlKeywords,sql:sqlKeywords,tsx:reactKeywords,test:testKeywords,sh:bashKeywords,yml:yamlKeywords,ino:arduinoKeywords}[n];if(null==s)return;let o=t;s.forEach(((e,t)=>{if(0!==e.length){const n=new RegExp(`\\b(${e.join("|")})\\b`,"g");o=o.replaceAll(n,(e=>`<span class="${COLORS[t]}">${e}</span>`))}})),e.innerHTML=o}async function getCodeSnippet(e){const t=await fetch(`../data/snippets/snippet.${e}`),n=await t.text();return n}function isVisibleInScrollView(e,t){const n=e.offsetTop,s=n+e.clientHeight,o=t.scrollTop,c=o+t.clientHeight;return n>=o&&s<=c}function onHamburgerMenuPress(){const e=document.getElementsByName("hamburger-toggle")[0],t=document.getElementsByClassName("nav-container")[0];e.checked?(LEFT_SECTION.classList.add("menu-open"),t.style.opacity=1):(LEFT_SECTION.classList.remove("menu-open"),t.style.opacity=.9)}function closeHamburgerMenu(){const e=document.getElementsByName("hamburger-toggle")[0];e.checked=!1,LEFT_SECTION.classList.remove("menu-open")}function clearMainContent(){MAIN_CONTENT_SECTION.innerHTML="",MAIN_CONTENT_SECTION.scrollTo({top:0})}async function displayContent(){clearMainContent();const e=left_sections[currentPosition.sectionIndex].name,t=await fetch(`data/${e}.json`),{data:n}=await t.json(),s=document.createElement("div");s.classList.add("outer-paragraph-container");const o=document.createElement("div");o.classList.add("inner-paragraph-container");if("home"!==e){o.classList.add("mt-4");const t=n[currentPosition.sectionItemIndex],c=document.createElement("div"),i=document.createElement("h1");i.innerHTML=null!=t.title?`<span class="${getRandomTextColorClass()}">${t.title}</span>`:null;const a=document.createElement("h2");a.innerHTML=null!=t.date?`<span class="${getRandomTextColorClass()}">${t.date}</span>`:null;const r=document.createElement("h2");r.innerHTML=null!=t.year?`[Built in <span class="${getRandomTextColorClass()}">${t.year}</span>]`:null;const l=document.createElement("div");l.classList.add("technologies-row"),l.innerHTML=null!=t.technologies?t.technologies.map((e=>colorizeString(e))).join(" "):null;const d=document.createElement("a");d.classList.add("project-button"),d.href=t?.githubUrl,d.target="_blank",d.innerText="Github";const u=document.createElement("a");u.classList.add("project-button"),u.href=t?.demoUrl,u.target="_blank",u.innerText="Demo";const p=document.createElement("div");p.classList.add("buttons-container"),null!=t?.githubUrl&&p.appendChild(d),null!=t?.demoUrl&&p.appendChild(u),null!=i.innerHTML&&c.appendChild(i),null!=a.innerHTML&&c.appendChild(a),null!=r.innerHTML&&c.appendChild(r),null!=l.innerHTML&&c.appendChild(l),p.children.length>0&&c.appendChild(p);const g=null!=t.images?t.images.map((e=>{const n=document.createElement("div");return n.style.minHeight="200px",n.classList.add("image-inner-container");const s=document.createElement("img");return s.loading="lazy",s.alt="Project image",s.decoding="async",s.src=`../images/${e}`,s.classList.add("project-image"),n.appendChild(s),n})):[];t.content.forEach(((e,t)=>{const n=document.createElement("div");n.innerHTML=colorizeString(e).replaceAll("\n","<br>"),o.appendChild(n),t<g.length&&(const s=document.createElement("div");s.classList.add("image-container"),s.appendChild(g[t]),o.appendChild(s))})),null!=t?.snippet&&(const e=document.createElement("div");e.classList.add("snippet-container");const n=document.createElement("pre"),s=document.createElement("code");s.classList.add(t.snippet),n.appendChild(s),s.innerText=await getCodeSnippet(t.snippet),e.appendChild(n),o.appendChild(e)),o.prepend(c),s.appendChild(o),clearMainContent(),MAIN_CONTENT_SECTION.appendChild(s),colorizeCode()}else{const e=`images/logo${Math.floor(3*Math.random())+1}.svg`,t=document.createElement("div");t.id="logo-container";const n=document.createElement("img");n.loading="eager",n.src=e,n.id="logo",n.alt="sudopkw ! logo failed to fetch",t.appendChild(n),clearMainContent(),MAIN_CONTENT_SECTION.appendChild(t),n.forEach((e=>{const t=document.createElement("div");e.content.forEach((e=>{const n=document.createElement("p");n.innerHTML=colorizeString(e),t.appendChild(n)})),o.appendChild(t)})),s.appendChild(o),MAIN_CONTENT_SECTION.appendChild(s)}}function clearSelectionStyling(e){if(isMobile()){const e=document.getElementsByClassName("selected-item")[0],t=document.getElementsByClassName("selected-frame")[0];null!=e&&e.classList.remove("selected-item"),null!=t&&t.classList.remove("selected-frame")}const t=left_sections[previousPosition.sectionIndex],n=t.items[previousPosition.sectionItemIndex],s=t.section.getElementsByClassName("list-index")[0]?.firstElementChild,o=t.section.getElementsByClassName("ui-list")[0];t.section.classList.remove("selected-frame"),null==n||n.classList.remove("selected-item"),null!=s&&(s.innerText=`1 of ${t.items.length}`),null!=o&&e&&o.scrollTo({top:0})}async function render(e=!1,t=!1){if(!isMobile()&&!t&¤tPosition.sectionIndex===previousPosition.sectionIndex&¤tPosition.sectionItemIndex===previousPosition.sectionItemIndex)return;const n=left_sections[currentPosition.sectionIndex],s=n.items?.[currentPosition.sectionItemIndex],o=n.section.getElementsByClassName("list-index")[0]?.firstElementChild,c=n.section.getElementsByClassName("ui-list")[0];clearSelectionStyling(e),n.section.classList.add("selected-frame"),null==s||s.classList.add("selected-item"),null!=o&&(o.innerText=`${currentPosition.sectionItemIndex+1} of ${n.items.length}`),null!=c&&null!=s&&!isVisibleInScrollView(s,c)&&previousPosition.sectionItemIndex!==currentPosition.sectionItemIndex&&(const e=parseInt(window.getComputedStyle(s).gap);c.scrollBy({top:previousPosition.sectionItemIndex<currentPosition.sectionItemIndex?s.clientHeight+e:-s.clientHeight-e,behavior:"instant"})),t||displayContent(),isMobile()&&closeHamburgerMenu()}function savePreviousPosition(){previousPosition.sectionIndex=currentPosition.sectionIndex,previousPosition.sectionItemIndex=currentPosition.sectionItemIndex}function goToSection(e,t=0){savePreviousPosition(),currentPosition.sectionIndex=clamp(0,e,left_sections.length-1),currentPosition.sectionItemIndex=clamp(0,t,left_sections[currentPosition.sectionIndex].items.length-1)}function goToNextSection(){savePreviousPosition(),currentPosition.sectionIndex=clamp(0,currentPosition.sectionIndex+1,left_sections.length-1),currentPosition.sectionItemIndex=0}function goToPreviousSection(){savePreviousPosition(),currentPosition.sectionIndex=clamp(0,currentPosition.sectionIndex-1,left_sections.length-1),currentPosition.sectionItemIndex=0}function goToNextItem(){savePreviousPosition(),currentPosition.sectionItemIndex=clamp(0,currentPosition.sectionItemIndex+1,left_sections[currentPosition.sectionIndex].items.length-1)}function goToPreviousItem(){savePreviousPosition(),currentPosition.sectionItemIndex=clamp(0,currentPosition.sectionItemIndex-1,left_sections[currentPosition.sectionIndex].items.length-1)}function scrollMainContentDown(){MAIN_CONTENT_SECTION?.scrollBy({top:MAIN_CONTENT_SECTION.clientHeight/2})}function scrollMainContentUp(){MAIN_CONTENT_SECTION?.scrollBy({top:-MAIN_CONTENT_SECTION.clientHeight/2})}function initKeyboardListeners(){addEventListener("keydown",(async e=>{let t=!1;const{key:n,code:s,ctrlKey:o}=e;if(n.includes("Arrow")||n.includes("Page"))e.preventDefault();if("PageDown"===n||o&&"d"===n)scrollMainContentDown();else if("PageUp"===n||o&&"u"===n)scrollMainContentUp();else if("ArrowUp"===n||"k"===n){if(0===currentPosition.sectionIndex)return;goToPreviousItem()}else if("ArrowDown"===n||"j"===n){if(0===currentPosition.sectionIndex)return;goToNextItem()}else if("ArrowLeft"===n||"h"===n)goToPreviousSection(),t=!0;else if("ArrowRight"===n||"l"===n)goToNextSection(),t=!0;else if(s.includes("Digit")){const e=parseInt(n)-1;goToSection(e),t=!0}else return;await render(t)}))}function initMouseListeners(){left_sections.forEach(((e,t)=>{e.items.forEach(((n,s)=>{n.addEventListener("click",(async n=>{n.stopPropagation(),goToSection(t,s),await render(t!==previousPosition.sectionIndex)}))})),e.section.addEventListener("click",(async()=>{goToSection(t),await render(t!==previousPosition.sectionIndex)}))}))}function initTouchListeners(){isMobile()||(const e=document.getElementsByName("hamburger-toggle")[0];e.addEventListener("click",(()=>{onHamburgerMenuPress()})))}async function init(){initKeyboardListeners(),initMouseListeners(),initTouchListeners(),await render(!0,!0)}const javascriptKeywords=[["colorizeCode","getCodeSnippet","javascript","typescript","html","css","go","c","graphql","sql","react","jest","bash","yaml","arduino","innerText","classList","0","'code'","document","null","innerHTML"],["function","const","return","if","new","async","await","=","=="],["getElementsByTagName","RegExp","fetch","replaceAll"]],typescriptKeywords=[[...javascriptKeywords[0]],[...javascriptKeywords[1],"void","string"],[...javascriptKeywords[2],"Promise"]],nodeKeywords=[[...javascriptKeywords[0],"express","IS_ONLINE","helmet","IS_OFFLINE","method","graphqlHTTP","schema","rootValue","validationRules","graphiql","next"],[...javascriptKeywords[1],"NoSchemaIntrospectionCustomRule","else"],[...javascriptKeywords[2],"use","sendStatus","json","setHeader"]],htmlKeywords=[["head","meta","link","script","title"],["charset","name","content","rel","type","href","src","defer"]],cssKeywords=[["footer-item","home-section-paragraph","container","footer","left-section","selected-frame","container-content"],["display","flex-direction","justify-content","position","padding","border-color","margin-top","font-size","flex-direction","gap","border","overflow-y","overflow-x","hover","not"]],goKeywords=[["0","nil","1"],["type","package","struct","any","func","return","if","int"]],cKeywords=[["deque_node","data","Node","create_deque","malloc","printf","exit","EXIT_FAILURE","NULL","front","back","next","prev","destroy_deque","deque_is_empty","deque_pop_front","free","memcpy","true","false","deque_push_back","deque_push_front","deque_pop_back","deque_front"],["typedef","struct","void","sizeof","if","return","while","bool","else","Deque","static","char","const"]],graphqlKeywords=[["FileInput","FilesInput","DirectoryInput","ListBucketResult","DeleteFileResult","DeleteDirectoryResult","Queries","Mutations","schema","ListInput","UploadInput","SignedUrlResult","SignedUrlResult","TextFileContentResult","RestoreFileResult"],["input","type","union","fileName","path","root","versionId","bucketName","fileNames","versionIds","listBucketContent","getUploadUrl","getDownloadUrl","getTextFileContent","listInput","uploadInput","fileInput","fileInput","filesInput","directoryInput","deleteOneFile","deleteManyFiles","deleteDirectory","restoreFileVersion"],["String","ObjectList","Unauthenticated","Unauthorized","StorageNotFound","ServerError","FileNotFound","FileName","FileNameList","Directory","RestoreFileResult"]],sqlKeywords=[["Who Let The Dogs Out Party","Let the dogs out"],["SELECT","DISTINCT","FROM","WHERE","JOIN","AND","ON"]],reactKeywords=[[...typescriptKeywords[0],"Gallery","length","imagesUrls","false","false","useState","1","setShowFullSizeImage"],[...typescriptKeywords[1],"export","ExpandedImageModal"],["setCurrentIndex"]],testKeywords=[["test","expect","checkEmailValidity"],["let"],["toBeTruthy","toBeFalsy","toBeUndefined","toBe","__typename","not"]],bashKeywords=[["copy_env_files","$src_dir","mkdir","cp"],["for","in",";","then","if","elif","do","fi","done"]],yamlKeywords=[["name","on","push","jobs","runs-on","steps","uses","with","branches","main","deploy_lambda","ubuntu-latest","env","run"]],arduinoKeywords=[[...cKeywords[0],"setup","loop","stop","go","pinMode","OUTPUT","INPUT","HIGH","LOW","58.2","1000","delay","50","1000000","pulseIn","digitalWrite","delayMicroSeconds","10"],[...cKeywords[1],"long","int","swich","case","break"]];
